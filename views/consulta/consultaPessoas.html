<script src="controllers/controller.consultaPessoas.js"></script>
<style type="text/css">
.ng-table th.text-left {
    text-align: left;
}

.box-vertical-text{
  display: table-cell;
  background: #f00;
  width: 30px!important;
  padding: 0px!important;
  margin: 0px!important;
  overflow: hidden!important;
  vertical-align: middle!important;
}

.vertical-text {
  float: left;
  transform: rotate(-90deg);
}

</style>
<!-- widget grid -->

<section ng-controller='consultaPessoas' id="widget-grid" widget-grid>
    
    
  <!-- START ROW -->
  <div class="row">

    <!-- NEW COL START -->
    <article class="col-sm-12 col-md-12 col-lg-12">

      <!-- Widget ID (each widget will need unique ID)-->
      <div class="jarviswidget jarviswidget-color-blueDark" data-widget-colorbutton="false" data-widget-editbutton="false" data-widget-custombutton="false" data-widget-deletebutton="false">

        <header>
          <span class="widget-icon"> <i class="fa fa-edit"></i> </span>
          <h2>Consulta de Pessoas</h2>

        </header>

        <!-- widget div-->
        <div>
          <!-- widget content -->
          <div class="widget-body no-padding">
            <div>
              <!-- NOVA TABELA -->

              <div class="table-responsive">
                <table show-filter="true" class="table table-striped table-bordered">
                  <thead>
                    <tr>                      
                      <th ng-click="changeSorting('nome')" width="450">NOME <i class="glyphicon" ng-class="getIcon('nome')"></i></th>
                      <th ng-click="changeSorting('tipo_pessoa')">TIPO <i class="glyphicon" ng-class="getIcon('tipo_pessoa')"></i></th>
                      <th style="vertical-align: middle; width: 10px;" align="center">
                          <span class="vertical-text">ASSOCIADO</span>
                      </th>
                      <th style="vertical-align: middle; width: 10px;"><span class="vertical-text">BENEFICIÁRIO</span></th>
                      <th style="vertical-align: middle; width: 10px;"><span class="vertical-text">PARENTESCO</span></th>
                      <th style="vertical-align: middle; width: 10px;"><span class="vertical-text">FUNCIONÁRIO</span></th>
                      <th style="vertical-align: middle; width: 10px;"><span class="vertical-text">PROPRIETÁRIO DO JAZIGO</span></th>
                      <th style="vertical-align: middle; width: 10px;"><span class="vertical-text">RESPONSÁVEL PELO ALUNO</span></th>
                      <th style="vertical-align: middle; width: 10px;"><span class="vertical-text">DONATÁRIO</span></th>
                      <th style="vertical-align: middle; width: 10px;"><span class="vertical-text">RESPONSÁVEL DO JAZIGO</span></th>
                      <th style="vertical-align: middle; width: 10px;"><span class="vertical-text">FORNECEDOR</span></th>
                      <th style="vertical-align: middle; width: 10px;"><span class="vertical-text">ALUNO</span></th>
                      <th style="vertical-align: middle; width: 10px;"><span class="vertical-text">ENTIDADE</span></th>
                      <th style="vertical-align: middle; width: 10px;"><span class="vertical-text">PROFESSOR</span></th>
                      <th style="height: 100px; vertical-align: middle; width: 10px;"><span class="vertical-text">PADRINHO</span></th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr>                      
                      <td><input ng-model="search.nome" id="search" class="form-control" placeholder="Busque pelo nome"></td>
                      <td><input ng-model="search.tipo_pessoa" id="search" class="form-control" placeholder="Busque pelo tipo"></td>
                      <td></td>
                      <td></td>
                      <td></td>
                      <td></td>
                      <td></td>
                      <td></td>
                      <td></td>
                      <td></td>
                      <td></td>
                      <td></td>
                      <td></td>
                      <td></td>
                      <td></td>
                    </tr>                    
                    <tr ng-show="user.length == 0">
                      <td colspan="10">Não existem dados para serem exibidos.</td>
                    </tr>
                    <tr dir-paginate="users in user | filter:search:strict | itemsPerPage: pageSize | orderBy:sort.active:sort.descending" current-page="currentPage" pagination-id="entiPagination">
                      
                      <td style="display:table-cell;vertical-align:middle">{{users.nome}}</td>
                      <td style="display:table-cell;vertical-align:middle">{{users.tipo_pessoa}}</td>                      
                      <td style="display:table-cell;vertical-align:middle" align="center">
                          <div class="checkbox">
                            <label>
                              <input type="checkbox" value="{{users.associado}}" ng-checked="users.associado" ng-click="updatePessoas(users.id, 'Associado', 'Associado')" type="checkbox"><span class="ripple"></span><span class="check"></span>
                            </label>
                          </div>
                      </td>
                      <td style="display:table-cell;vertical-align:middle" align="center">
                        <div class="checkbox">
                            <label>
                              <input type="checkbox" value="{{users.beneficiario}}" ng-checked="users.beneficiario" ng-click="updatePessoas(users.id, 'Beneficiario', 'Beneficiário')" type="checkbox"><span class="ripple"></span><span class="check"></span>
                            </label>
                          </div>
                      </td>
                      <td style="display:table-cell;vertical-align:middle" align="center">
                        <div class="checkbox">
                            <label>
                              <input type="checkbox" value="{{users.parentesco}}" ng-checked="users.parentesco" ng-click="updatePessoas(users.id, 'Parentesco', 'Parentesco')" type="checkbox"><span class="ripple"></span><span class="check"></span>
                            </label>
                          </div>
                      </td>

                      <td style="display:table-cell;vertical-align:middle" align="center">
                        <div class="checkbox">
                            <label>
                              <input type="checkbox" value="{{users.funcionario}}" ng-checked="users.funcionario" ng-click="updatePessoas(users.id, 'Funcionario', 'Funcionário')" type="checkbox"><span class="ripple"></span><span class="check"></span>
                            </label>
                          </div>
                      </td>
                      <td style="display:table-cell;vertical-align:middle" align="center">
                        <div class="checkbox">
                            <label>
                              <input type="checkbox" value="{{users.proprietario}}" ng-checked="users.proprietario" ng-click="updatePessoas(users.id, 'Proprietario', 'Proprietário de Jazigo')" type="checkbox"><span class="ripple"></span><span class="check"></span>
                            </label>
                          </div>
                      </td>
                      <td style="display:table-cell;vertical-align:middle" align="center">
                        <div class="checkbox">
                            <label>
                              <input type="checkbox" value="{{users.responsavel}}" ng-checked="users.responsavel" ng-click="updatePessoas(users.id, 'Responsavel', 'Responsável pelo aluno')" type="checkbox"><span class="ripple"></span><span class="check"></span>
                            </label>
                          </div>
                      </td>

                      <td style="display:table-cell;vertical-align:middle" align="center">
                        <div class="checkbox">
                            <label>
                              <input type="checkbox" value="{{users.donatario}}" ng-checked="users.donatario" ng-click="updatePessoas(users.id, 'Donatario', 'Donatário')" type="checkbox"><span class="ripple"></span><span class="check"></span>
                            </label>
                          </div>
                      </td>
                      <td style="display:table-cell;vertical-align:middle" align="center">
                        <div class="checkbox">
                            <label>
                              <input type="checkbox" value="{{users.responsavel_proprietario}}" ng-checked="users.responsavel_proprietario" ng-click="updatePessoas(users.id, 'responsavel_proprietario', 'Responsável Jazigo')" type="checkbox"><span class="ripple"></span><span class="check"></span>
                            </label>
                          </div>
                      </td>
                      <td style="display:table-cell;vertical-align:middle" align="center">
                        <div class="checkbox">
                            <label>
                              <input type="checkbox" value="{{users.fornecedor}}" ng-checked="users.fornecedor" ng-click="updatePessoas(users.id, 'Fornecedor', 'Fornecedor')" type="checkbox"><span class="ripple"></span><span class="check"></span>
                            </label>
                          </div>
                      </td>

                      <td style="display:table-cell;vertical-align:middle" align="center">
                        <div class="checkbox">
                            <label>
                              <input type="checkbox" value="{{users.aluno}}" ng-checked="users.aluno" ng-click="updatePessoas(users.id, 'Aluno', 'Aluno')" type="checkbox"><span class="ripple"></span><span class="check"></span>
                            </label>
                          </div>
                      </td>
                      <td style="display:table-cell;vertical-align:middle" align="center">
                        <div class="checkbox">
                            <label>
                              <input type="checkbox" value="{{users.entidade}}" ng-checked="users.entidade" ng-click="updatePessoas(users.id, 'Entidade', 'Entidade')" type="checkbox"><span class="ripple"></span><span class="check"></span>
                            </label>
                          </div>
                      </td>
                      <td style="display:table-cell;vertical-align:middle" align="center">
                        <div class="checkbox">
                            <label>
                              <input type="checkbox" value="{{users.professor}}" ng-checked="users.professor" ng-click="updatePessoas(users.id, 'Professor', 'Professor')" type="checkbox"><span class="ripple"></span><span class="check"></span>
                            </label>
                          </div>
                      </td>
                      <td style="display:table-cell;vertical-align:middle" align="center">
                        <div class="checkbox">
                            <label>
                              <input type="checkbox" value="{{users.padrinho}}" ng-checked="users.padrinho" ng-click="updatePessoas(users.id, 'Padrinho', 'Padrinho')" type="checkbox"><span class="ripple"></span><span class="check"></span>
                            </label>
                          </div>
                      </td>
                    </tr>
                    <tr style="background-color:#F6F6F6"><td style="display:table-cell;vertical-align:middle;font-size:12px;"><b>Quantidade:</b></td><td>{{user.length}}</td><td colspan="13">&nbsp;</td></tr>
                  </tbody>
                </table>

              </div>


            </div>     
          <div>      
        <div>  
      <div>
        <div class="row" style="margin-top:20px; margin-bottom:5px;">
          <div class="col col-xs-5 col-ls-6 col-md-6 col-lg-6" style="padding-top: 8px;">
            <form class="form-horizontal">
              <div class="form-group">
                <label for="inputEmail3" style="padding-top:6px; width:auto; padding-right: 0px;" class="col-xs-3 control-label"><strong>Itens por página:</strong></label>
                <div class="col-xs-4 col-sm-2 col-lg-2 col-md-2">
                  <input type="number" min="1" max="100" class="form-control" ng-model="pageSize">
                </div>
              </div>
            </form>
          </div>
          <div class="col-xs-7 col-ls-4 col-md-4 col-lg-4 pull-right">
            <dir-pagination-controls class="pull-right " boundary-links="true" pagination-id="entiPagination" on-page-change="pageChangeHandler(newPageNumber)" template-url="template/dirPagination.tpl.html"></dir-pagination-controls>            
          </div>              
        </div>
        <!-- <div class="row">
          <div class="col-xs-2 col-ls-2 col-md-2 col-lg-2 pull-right">
            <button ng-click="validaLogin()" class="btnmd btnmd-info btnmd-raised btnmd-sm pull-right">Exportar <span style="margin-left:20px" class="glyphicon glyphicon-circle-arrow-down"></span><div class="ripple-wrapper"></div></button>
          </div>
        </div> -->
      </div>



    </article>
    <!-- END COL -->    

  </div>

  <!-- END ROW -->


  
  

</section>
<!-- end widget grid -->

<!-- SCRIPTS ON PAGE EVENT -->
<script type="text/javascript">
  /* DO NOT REMOVE : GLOBAL FUNCTIONS!
   *
   * pageSetUp(); WILL CALL THE FOLLOWING FUNCTIONS
   *
   * // activate tooltips
   * $("[rel=tooltip]").tooltip();
   *
   * // activate popovers
   * $("[rel=popover]").popover();
   *
   * // activate popovers with hover states
   * $("[rel=popover-hover]").popover({ trigger: "hover" });
   *
   * // activate inline charts
   * runAllCharts();
   *
   * // setup widgets
   * setup_widgets_desktop();
   *
   * // run form elements
   * runAllForms();
   *
   ********************************
   *
   * pageSetUp() is needed whenever you load a page.
   * It initializes and checks for all basic elements of the page
   * and makes rendering easier.
   *
   */

  pageSetUp();
  
  /*
   * ALL PAGE RELATED SCRIPTS CAN GO BELOW HERE
   * eg alert("my home function");
   * 
   * var pagefunction = function() {
   *   ...
   * }
   * loadScript("js/plugin/_PLUGIN_NAME_.js", pagefunction);
   * 
   * TO LOAD A SCRIPT:
   * var pagefunction = function (){ 
   *  loadScript(".../plugin.js", run_after_loaded);  
   * }
   * 
   * OR
   * 
   * loadScript(".../plugin.js", run_after_loaded);
   */

  // PAGE RELATED SCRIPTS
  
  // pagefunction
  
  var pagefunction = function() {
    
  };
  
  // end pagefunction
  
  // run pagefunction on load
  pagefunction();
        

</script>
