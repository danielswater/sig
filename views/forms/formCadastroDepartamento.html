<script src="controllers/controller.formCadastroDepartamento.js"></script> 
<!-- widget grid -->
<section ng-controller='formCadastroDepartamento' id="widget-grid" widget-grid>

	<!-- START ROW -->
	<div class="row">

		
		<!-- NEW COL START -->
		<article class="col-sm-12 col-md-12 col-lg-12">

			<!-- Widget ID (each widget will need unique ID)-->
			<div class="jarviswidget jarviswidget-color-blueDark" data-widget-colorbutton="false" data-widget-editbutton="false" data-widget-custombutton="false" data-widget-deletebutton="false">
				<header>
					<span class="widget-icon"> <i class="fa fa-edit"></i> </span>
					<h2>Departamento</h2> 

				</header>

				<!-- widget div-->
				<div>
					<!-- widget content -->
					<div class="widget-body no-padding">

						<form id="cadastroDepartamento-form" class="smart-form" novalidate="novalidate" validate-form>							
							<fieldset>
								<div class="row">																	
									<section class="col col-4">
										<label class="label"><strong>Nome do departamento</strong></label>
										<div class="form-control-wrapper inputValidate">
											<i class="icon-append fa fa-question-circle"></i>
											<input class="form-control" name="descricao" id="descricao" placeholder="Nome"
											ng-model="departamento.descricao"
											data-validate-input
                                            data-required 
                                            data-message-required="Informe o departamento">
											<span class="material-input"></span>
											<b class="tooltip tooltip-top-right">
												<i class="fa fa-warning txt-color-teal"></i> 
												Nome do departamento</b> 											
										</div>										
									</section>
									<section class="col col-4">
										<label class="label"><strong>Status</strong></label>
										<div class="form-inline">
											<div class="form-group">
												<label class="radio radio-inline">
													<input type="radio" class="radiobox" name="status" checked="true" value="1" ng-model="departamento.ativo">
													<span>Ativo</span>  
												</label>
											</div>
											<div class="form-group">
												<label class="radio radio-inline">
													<input type="radio" class="radiobox" name="status" value="0" ng-model="departamento.ativo">
													<span>Inativo</span>  
												</label>	
											</div>
										</div>
									</section>																										
								</div>								
							</fieldset>
							<footer>
								<a class="btnmd btnmd-success  pull-right" ng-click="novoCadastro()" id="NovoCadastro">
									Novo
								</a>
								<button ng-click="cadastrarDepartamento(departamento)" type="submit" class="btnmd btnmd-info pull-right" id="SalvarDepartamento">
									Salvar
								</button>
							</footer>
						</form>

					</div>
					<!-- end widget content -->

				</div>
				<!-- end widget div -->

			</div>
			<!-- end widget -->

		</article>
		<!-- END COL -->

		<!-- NEW COL START -->
		<article class="col-sm-12 col-md-12 col-lg-12" ng-show="departamento.id">

			<!-- Widget ID (each widget will need unique ID)-->
			<div class="jarviswidget jarviswidget-color-blueDark" data-widget-colorbutton="false" data-widget-editbutton="false" data-widget-custombutton="false" data-widget-deletebutton="false">
				<header>
					<span class="widget-icon"> <i class="fa fa-edit"></i> </span>
					<h2>Integrantes do Departamento</h2>

				</header>

				<!-- widget div-->
				<div>
					<!-- widget content -->
					<div class="widget-body no-padding">

						<form id="cadastroIntegrante-form" class="smart-form">
							<fieldset>
								<div class="row">
									<section class="col col-6">										
						                <ui-select ng-model="objeto.selected"
									             theme="select2"
									             ng-disabled="disabled"
									             reset-search-input="false"
									             ng-change="salvarSocios(objeto.selected)"
									             style="min-width: 600px;">
									    <ui-select-match placeholder="Entre com uma palavra ou selecione na lista abaixo ">{{$select.selected.nome}}</ui-select-match>
									    <ui-select-choices repeat="objeto in socios track by $index"									             
									             refresh="refreshSocios($select.search)"
									             refresh-delay="0">
									      <div ng-bind-html="objeto.nome | highlight: $select.search"></div>
									    </ui-select-choices>
									  </ui-select>
								</div>

								<table class="table table-striped table-bordered">
									<thead>
										<th>Nome</th>
										<th>E-mail</th>
										<th>Data Associação</th>
										<th></th>
									</thead>
					                <tbody>
					                    <tr ng-repeat="socioSel in sociosSel">
					                    	<td width="250">{{socioSel.nome}}</td>				
					                        <td width="120" width="120">{{socioSel.email}}</td>
					                        <td width="120" align="center">
					                          {{socioSel.data_associacao}}
					                        </td>					                        
					                        <td width="50">					                        
				                        		<button class="btn btn-danger btn-sm" ng-click='excluirSocios($index, socioSel)' popover="Excluir" popover-trigger="mouseenter"><i class="glyphicon glyphicon-trash"></i> Excluir</button>		
					                        </td>
					                    </tr>
					                </tbody>
					            </table>
								</fieldset>							
							<footer>						
							</footer>
						</form>

					</div>
					<!-- end widget content -->

				</div>
				<!-- end widget div -->

			</div>
			<!-- end widget -->

		</article>
		<!-- END COL -->		
		
	</div>

	<!-- END ROW -->


	
	

</section>
<!-- end widget grid -->

<!-- SCRIPTS ON PAGE EVENT -->
<script type="text/javascript">
	/* DO NOT REMOVE : GLOBAL FUNCTIONS!	 
	 *
	 * pageSetUp() is needed whenever you load a page.
	 * It initializes and checks for all basic elements of the page
	 * and makes rendering easier.
	 *
	 */
	pageSetUp();


</script>
